{"aid": "39996012", "title": "Farey Numbers and Linked Lists", "url": "https://jasonpunyon.com/blog/2024/04/10/farey-linked-list/", "domain": "jasonpunyon.com", "votes": 2, "user": "JasonPunyon", "posted_at": "2024-04-10 21:40:18", "comments": 0, "source_title": "Farey Numbers and Linked Lists", "source_text": "Farey Numbers and Linked Lists\n\nJason Punyon\n\n# Farey Numbers and Linked Lists\n\nApril 10, 2024\n\n## Farey Numbers\n\nFarey numbers are fractions. The first two Farey numbers are 10 and 11. If you\nhave two Farey numbers ca and db, you can make a new Farey number fe by\nsumming their numerators and denominators.\n\nfe=c+da+b\n\nThe new Farey number will always be strictly between the first two, so if db\nwere the larger of the two then\n\nca< c+da+b <db\n\nWe have two Farey numbers, so we can make another one between them. According\nto the rule, that number is 1+10+1=21 . Our list of Farey numbers is now\n{10,21,11}\n\nNow we can make two more Farey numbers. Inserting between 10 and 21 gives us\n1+20+1=31. Inserting between 21 and 11 gives us 2+11+1=32. Now our list is\n\n{10,31,21,32,11}\n\nNow we can make four more Farey Numbers. If we make them all, our list becomes\n\n{10,41,31,52,21,53,32,43,11}\n\nWe can continue making new Farey numbers forever and we\u2019ll never make the same\nFarey number twice. Also we\u2019ll never make Farey numbers that are equivalent\nfractions. So, for example, since we\u2019ve already made 21 that means we\u2019ll never\nmake 21 again, and we\u2019ll also never make any of {42,63,84,...}.\n\n## Linked Lists\n\nA linked list is sequence of elements, each one linked to the next. The first\ntwo elements are the begin and end of the list.\n\nIf you have two elements of a linked list, you can make a new element between\nthem. We have the begin and end of the list, so we can make another one\nbetween them. Our linked list now looks like this.\n\nWe need a name for that node so we can talk about it. It was inserted between\nbegin and end, so we\u2019ll call it be.\n\nNow we can make two new elements. Inserting between b and be gives us bbe.\nInserting between be and e gives us bee. Now our list is\n\nNow we can make four new elements. If we make them all, our list becomes\n\nWe can continue making new elements forever and we\u2019ll never make an element\nwith the same name.\n\n## Squint Real Hard\n\nIf we squint real hard, our strings of bs and es map directly to the Farey\nnumbers! The number of es in the string is the numerator of the Farey number,\nand the length of the string is the denominator of the Farey number.\n\nb has zero es and its length is one so b=10\n\ne has one e and its length is one so e=11\n\nbe has one e and its length is two so be=21\n\nbbe has one e and its length is three so bbe=31\n\nbee has two es and its length is three so bbe=32\n\n...and so on (promise)\n\n## Why is that interesting?\n\nIf you use Farey numbers to name the elements of linked lists as they\u2019re\ninserted, the structure (and a good bit of the history) of the linked list is\ncompletely specified by those names. You can break all the links and\nreassemble the list by starting at the empty list and following the Farey\nnumber generation process. The first element you insert will always be the one\ncalled 21, which will always make the 31 and 32 spots available for insert,\nand so on.\n\nThe Farey numbers are a neat coordinate system for linked lists.\n\n\u00a9 2024 Jason Punyon. All Rights Reserved\n\n  * Share on Twitter\n\n#### Jason Punyon\n\nChaotic Good w a splash of Data. Dad x2. On sabbatical from Stack Overflow.\nHe/him.\n\nStaff Data Engineer at Stack Overflow\n\n", "frontpage": false}
