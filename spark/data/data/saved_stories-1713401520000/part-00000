{"aid": "40068674", "title": "Show passwords as they're typed in Terminal", "url": "https://lapcatsoftware.com/articles/2024/4/4.html", "domain": "lapcatsoftware.com", "votes": 1, "user": "ingve", "posted_at": "2024-04-17 18:50:12", "comments": 0, "source_title": "Show passwords as they're typed in Terminal", "source_text": "Show passwords as they're typed in Terminal\n\nJeff Johnson (My apps, PayPal.Me, Mastodon)\n\nFeedback Assistant Boycott\n\n# Show passwords as they're typed in Terminal\n\n### April 17 2024\n\nAfter I posted my funny story of how I recovered the password of an encrypted\nMac disk image, I received an email from a reader of the blog, who schooled me\non some UNIX. Believe it or not, I don't know everything; know-it-all is just\na character that I play on the web. I'd like to express my thanks and\nappreciation for this blog post to \"hym3242\", if that is your real name!\n\nAccording to its man page, \"The stty utility sets or reports on terminal\ncharacteristics for the device that is its standard input.\" Among those\ncharacteristics are the local mode flags (lflags), which \"affect various and\nsundry characteristics of terminal processing\", and among the local mode flags\nis the echo flag.\n\n> echo (-echo) Echo back (do not echo back) every character typed.\n\nThe echo flag is set by default, as you can see with stty -e\n\n    \n    \n    speed 9600 baud; 58 rows; 210 columns; lflags: icanon isig iexten echo echoe -echok echoke -echonl echoctl -echoprt -altwerase -noflsh -tostop -flusho pendin -nokerninfo -extproc\n\nI'm not sure I believe the 9600 baud part though. The 1980s are calling, and\nthey want their modem back.\n\nAnyway, a \"secure\" password prompt, for example from hdiutil, is simply the\nresult of temporarily disabling the echo flag. To see this, first call tty to\nget the name of the terminal, typically /dev/ttys000. Then call hdiutil to\ncreate an encrypted disk image, and wait for the password prompt. Finally,\nopen a new Terminal window and call stty -ef /dev/ttys000 to get the lflags of\nthe hdiutil window.\n\n    \n    \n    speed 9600 baud; 58 rows; 210 columns; lflags: icanon isig iexten -echo echoe -echok echoke -echonl echoctl -echoprt -altwerase -noflsh -tostop -flusho -pendin -nokerninfo -extproc\n\nThe echo flag has changed to -echo.\n\nTo re-enable the echo flag, just call the following command.\n\n> stty -f /dev/ttys000 echo\n\nAnd now you can see your password as you type! You may have to do this twice\nif hdiutil asks you to confirm your password.\n\nFeedback Assistant Boycott\n\nJeff Johnson (My apps, PayPal.Me, Mastodon)\n\n", "frontpage": false}
