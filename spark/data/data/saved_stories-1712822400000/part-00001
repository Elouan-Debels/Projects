{"aid": "39997682", "title": "Digging deeper into Trial using Mints (2022)", "url": "https://eclecticlight.co/2022/04/04/digging-deeper-into-trial-using-mints/", "domain": "eclecticlight.co", "votes": 1, "user": "colinprince", "posted_at": "2024-04-11 01:57:32", "comments": 0, "source_title": "Digging deeper into Trial using Mints", "source_text": "Digging deeper into Trial using Mints \u2013 The Eclectic Light Company\n\nSkip to content\n\n# The Eclectic Light Company\n\nMacs, painting, and more\n\nhoakley April 4, 2022 Macs, Technology, Updates\n\n# Digging deeper into Trial using Mints\n\nAs we start to explore Apple\u2019s latest undocumented service, Trial, gaining\neasy access to its log entries becomes important. I\u2019ve therefore added another\nreadymade log browsing option to my free utility Mints.\n\nAs with other readymade log windows, click on the Trial button to open it.\n\nThis window provides colour-coded log content from com.apple.trial,\ncom.apple.triald, com.apple.cloudkit, and \u2018Other\u2019, which includes both\nmediaanalysisd and triald processes not covered by the subsystem term in the\npredicate. I normally turn off CloudKit when getting log excerpts, because its\nentries are copious and generally not relevant to Trial. However, it does\nenable you to see where Trial uses CloudKit when you want.\n\nFor pre-release testing and to expand my insight into what Trial is up to, I\nhave surveyed its activities as recorded in the log over a period of 24 hours,\none hour at a time. This was performed on my production iMac Pro (macOS\n12.3.1) over a Saturday-Sunday when it\u2019s relatively lightly used. Sleep is\ndisabled, as is Siri. No use was made of ML features such as Live Text or\nVisual Look Up, and although there is a modest-sized Photos library, no access\nwas made to that in the period studied.\n\nImmediately apparent are a succession of periods of a couple of minutes during\nwhich com.apple.mediaanalysisd.fullanalysis was \u2018checked in\u2019 and active.\nTRIClient (presumably a reference to Trial) was initialised more than 20 times\nin each of these, during which mediaanalysisd performed image analysis of the\nfollowing types:\n\n  * photos.ocr\n  * photos.face\n  * photos.visualsearch\n  * fullanalysis\n  * photosanalysis\n\napparently on the default Photos library.\n\nThese sessions occurred when the Mac was awake (as it was throughout) but not\nin active use, for example at around 0100, 0220, 0400, 0530, 1330, 1530, and\n2300.\n\nI previously remarked on Trial\u2019s main daily maintenance being performed in the\nsmall hours of the morning. In this particular period, it started at 0323, and\nconsisted of the following tasks under the heading of com.apple.triald.fetch-\nexperiments:\n\n  * TRIScheduleFetchExperimentNotificationsTask\n  * TRIRetargetAllTask\n  * TRIMaintenanceTask\n  * TRISelectRolloutNotificationListTask\n  * TRIRolloutTargetingTask\n  * Garbage collection for Trial\u2019s asset store at ~/Library/Trial/v6/AssetStore\n  * TRIFetchMultipleExperimentNotificationsTask.\n\nOver the 24-hour period, TRIClient was initialised more than 200 times. Among\nthe namespaces found in Trial\u2019s entries were:\n\n  * SEARCH_ADS_COUNTERFACTUAL\n  * SPOTLIGHT_RANKING_RULES\n  * SAFARI_SEARCH_RANKING\n  * PHOTOS_HOLIDAY\n  * SIRI_UNDERSTANDING_NL\n  * SIRI_UNDERSTANDING_NL_OVERRIDES\n  * SIRI_TEXT_TO_SPEECH\n  * SIRI_DICTATION_ASSETS\n  * SIRI_MORPHUN_ASSETS\n  * SIRI_UNDERSTANDING_MORPHUN\n  * SIRI_EXPERIENCE_CAM\n  * SIRI_UNDERSTANDING_ASR_ASSISTANT\n\nNL doesn\u2019t refer to Dutch, but Natural Language. I also believe that MORPHUN\nrefers to linguistic morphology.\n\nTrial appears to be involved in all parts of macOS which benefit from ML,\nincluding Siri, natural language processing, Photos library and other image\nanalysis, Spotlight search ranking, and Safari search ranking and other\nfeatures. This is a non-trivial system.\n\nMints version 1.7 is available from here: mints17 from Downloads above, from\nits Product Page, and through its auto-update mechanism.\n\nHappy exploring!\n\n### Share this:\n\n  * Twitter\n  * Facebook\n  * Reddit\n  * Pinterest\n  * Email\n  * Print\n\nLike Loading...\n\n### Related\n\nWhat is triald and why is it taking so much disk space?March 31, 2022In \"Macs\"\n\ntriald is all about Machine LearningApril 6, 2022In \"Macs\"\n\nMints now lists firmware and recovery versions, and moreAugust 22, 2022In\n\"Macs\"\n\nPosted in Macs, Technology, Updates and tagged log, Mints, ML, Siri, Trial,\ntriald, update. Bookmark the permalink.\n\n## 12Comments\n\nAdd yours\n\n  1. 1\n\nColstan on April 4, 2022 at 7:26 am\n\nI realize that this is a stab in the dark, we\u2019re all left guessing, but\nApple\u2019s work with ML within macOS is relatively new. What if these are\nfeatures that, at one time, were experimental but then eventually implemented\nfully inside macOS for a legitimate purpose, not for testing, data gathering,\nor \u201cexperiments\u201d. Perhaps Apple\u2019s software engineers simply didn\u2019t rename the\nprocesses involved, even after they stopped using it as a \u201ctrial\u201d. They simply\nassumed that more technically inclined users, such as yourself, wouldn\u2019t dig\nfurther into it. Sometimes the answers aren\u2019t as complex, or nefarious, as\nthey at first may seem. Again, just speculation on my entirely uninformed\npart.\n\nLikeLiked by 1 person\n\n     * 2\n\nhoakley on April 4, 2022 at 7:58 pm\n\nThank you. I\u2019m not suggesting its purpose isn\u2019t legitimate \u2013 as we don\u2019t know\nits purpose, we can\u2019t judge. Trial is fully in macOS, though, this isn\u2019t\nsomething clagged on during development. In any case, Apple makes clear what\u2019s\nbeta, and what\u2019s full release software. Trial has been declared as neither,\npresumably because we\u2019re not expected to know about it. Like those trial APFS\nconversions in iOS prior to 10.3? Howard.\n\nLikeLike\n\n     * 3\n\nMyob on April 4, 2022 at 8:32 pm\n\nThis isn\u2019t a criticism of your speculation because it\u2019s certainly possible.\nHowever, I\u2019ve not been able to envision a reasonable context in which some of\nthe files are/were used. Unfortunately (I should have known better), I didn\u2019t\nsave the name list of .cat files that were on one machine*\u2013\u2013they\u2019ve since been\ndeleted by macOS without any action taken by the user.\n\nThe items included: Who did you vote for Are you naked Are you racist There\nwere numerous sexuality type items\n\nA similar or same list was posted by @Bruce Michel here on eclecticlight in an\nearlier thread: https://eclecticlight.co/2022/03/31/what-is-triald-and-why-is-\nit-taking-so-much-disk-space/#comment-72411\n\nThanks again, everyone.\n\n*This machine has never been in beta, never used Siri, never opted into analytic sharing and uses iCloud in a limited way (Photos and Notes).\n\nLikeLiked by 1 person\n\n       * 4\n\nhoakley on April 4, 2022 at 10:15 pm\n\nThank you. Howard.\n\nLikeLike\n\n       * 5\n\nColstan on April 5, 2022 at 12:38 am\n\nAs I said, it\u2019s entirely uniformed speculation on my part. My only point is\nthat being secretive or nefarious is hard work, while being lazy is easy, and\nthat may have something to do with the naming schemes going unchanged from\npre-release versions, if my theory has any weight to it.\n\nThat being said, I was unaware of the bizarre .cat files that you and Bruce\nhave mentioned. I can\u2019t fathom the reasons for this, even if it was simply\nsome odd bit of software that an Apple engineer was testing, who used a\nstrange naming scheme, and somehow it eventually made its way into production\nsystems. It\u2019s simply weird.\n\nLikeLiked by 1 person\n\n         * 6\n\nhoakley on April 5, 2022 at 8:32 pm\n\nThank you. More coming in the morning. Howard.\n\nLikeLike\n\n  2. 7\n\ncoxorange on April 4, 2022 at 9:52 am\n\nThank you for your investigations!\n\nLikeLiked by 1 person\n\n  3. 8\n\nJavier Gallardo on April 4, 2022 at 7:20 pm\n\nThis seems a lot of ML! Quantity of processes and out-connections make this\nthing serious enough to worry about \u201cinformed consent\u201d. Apple\u2019s attitude is\nnot illegal, perhaps not dirty, but it\u2019s kind of ugly... I understand your\ninterest and I thank you very much for your investigation. (It\u2019s not just\nknowledge divulgation; I think you\u2019re doing a good deed).\n\nLikeLiked by 1 person\n\n     * 9\n\nhoakley on April 4, 2022 at 8:23 pm\n\nThank you. If nothing else, it is fascinating. Howard.\n\nLikeLike\n\n  4. 10\n\nPaul Boersting on April 5, 2022 at 9:01 am\n\nMy 2015 MacBook Pro only has 12,6 MB in ~/Library/Trial. My MacBook Pro Max\n(16-inch, 2021) has 668 MB. Both are on Monterey, never been in beta, never\nopted into analytic sharing and both uses iCloud in lots of ways. The only\ndifference is that the 2021 model are using Siri.\n\nLikeLiked by 1 person\n\n     * 11\n\nPaul Boersting on April 5, 2022 at 9:04 am\n\nOne more difference, I always turn off my MacBook Pro 2021 after working. I\nalways leave my 2015 on.\n\nLikeLiked by 1 person\n\n     * 12\n\nhoakley on April 5, 2022 at 8:39 pm\n\nThank you. Howard.\n\nLikeLike\n\n\u00b7Comments are closed.\n\n# Quick Links\n\n  * Free Software Menu\n  * System Updates\n  * M-series Macs\n  * Mac Troubleshooting Summary\n  * Mac problem-solving\n  * Painting topics\n  * Painting\n  * Long Reads\n\n# Search\n\n# Monthly archives\n\n  * April 2024 (24)\n  * March 2024 (81)\n  * February 2024 (72)\n  * January 2024 (78)\n  * December 2023 (79)\n  * November 2023 (74)\n  * October 2023 (77)\n  * September 2023 (77)\n  * August 2023 (72)\n  * July 2023 (79)\n  * June 2023 (73)\n  * May 2023 (79)\n  * April 2023 (73)\n  * March 2023 (76)\n  * February 2023 (68)\n  * January 2023 (74)\n  * December 2022 (74)\n  * November 2022 (72)\n  * October 2022 (76)\n  * September 2022 (72)\n  * August 2022 (75)\n  * July 2022 (76)\n  * June 2022 (73)\n  * May 2022 (76)\n  * April 2022 (71)\n  * March 2022 (77)\n  * February 2022 (68)\n  * January 2022 (77)\n  * December 2021 (75)\n  * November 2021 (72)\n  * October 2021 (75)\n  * September 2021 (76)\n  * August 2021 (75)\n  * July 2021 (75)\n  * June 2021 (71)\n  * May 2021 (80)\n  * April 2021 (79)\n  * March 2021 (77)\n  * February 2021 (75)\n  * January 2021 (75)\n  * December 2020 (77)\n  * November 2020 (84)\n  * October 2020 (81)\n  * September 2020 (79)\n  * August 2020 (103)\n  * July 2020 (81)\n  * June 2020 (78)\n  * May 2020 (78)\n  * April 2020 (81)\n  * March 2020 (86)\n  * February 2020 (77)\n  * January 2020 (86)\n  * December 2019 (82)\n  * November 2019 (74)\n  * October 2019 (89)\n  * September 2019 (80)\n  * August 2019 (91)\n  * July 2019 (95)\n  * June 2019 (88)\n  * May 2019 (91)\n  * April 2019 (79)\n  * March 2019 (78)\n  * February 2019 (71)\n  * January 2019 (69)\n  * December 2018 (79)\n  * November 2018 (71)\n  * October 2018 (78)\n  * September 2018 (76)\n  * August 2018 (78)\n  * July 2018 (76)\n  * June 2018 (77)\n  * May 2018 (71)\n  * April 2018 (67)\n  * March 2018 (73)\n  * February 2018 (67)\n  * January 2018 (83)\n  * December 2017 (94)\n  * November 2017 (73)\n  * October 2017 (86)\n  * September 2017 (92)\n  * August 2017 (69)\n  * July 2017 (81)\n  * June 2017 (76)\n  * May 2017 (90)\n  * April 2017 (76)\n  * March 2017 (79)\n  * February 2017 (65)\n  * January 2017 (76)\n  * December 2016 (75)\n  * November 2016 (68)\n  * October 2016 (76)\n  * September 2016 (78)\n  * August 2016 (70)\n  * July 2016 (74)\n  * June 2016 (66)\n  * May 2016 (71)\n  * April 2016 (67)\n  * March 2016 (71)\n  * February 2016 (68)\n  * January 2016 (90)\n  * December 2015 (96)\n  * November 2015 (103)\n  * October 2015 (119)\n  * September 2015 (115)\n  * August 2015 (117)\n  * July 2015 (117)\n  * June 2015 (105)\n  * May 2015 (111)\n  * April 2015 (119)\n  * March 2015 (69)\n  * February 2015 (54)\n  * January 2015 (39)\n\n# Tags\n\nAPFS Apple AppleScript Apple silicon backup Big Sur Blake bug Catalina\nConsolation Console Corinth diagnosis Disk Utility Dor\u00e9 El Capitan extended\nattributes Finder firmware Gatekeeper G\u00e9r\u00f4me High Sierra history of painting\niCloud Impressionism landscape LockRattler log M1 Mac Mac history macOS macOS\n10.12 macOS 10.13 macOS 10.14 macOS 10.15 macOS 11 macOS 12 macOS 13 macOS 14\nmalware Mojave Monet Monterey Moreau MRT myth narrative OS X Ovid painting\nperformance Pissarro Poussin privacy realism Renoir riddle Rubens Sargent\nscripting security Sierra SilentKnight SSD Swift Time Machine Tintoretto\nTurner update upgrade Ventura xattr Xcode XProtect\n\n# Statistics\n\n  * 16,942,111 hits\n\nBlog at WordPress.com.\n\nBegin typing your search above and press return to search. Press Esc to\ncancel.\n\n  * Reblog\n  * Subscribe Subscribed\n\n    * The Eclectic Light Company\n    * Already have a WordPress.com account? Log in now.\n\n  * Privacy\n  *     * The Eclectic Light Company\n    * Customize\n    * Subscribe Subscribed\n    * Sign up\n    * Log in\n    * Copy shortlink\n    * Report this content\n    * View post in Reader\n    * Manage subscriptions\n    * Collapse this bar\n\nLoading Comments...\n\n%d\n\n", "frontpage": false}
