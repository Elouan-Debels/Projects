{"aid": "40003638", "title": "Minesweeper: Advanced Tactics", "url": "https://nothings.org/games/minesweeper/", "domain": "nothings.org", "votes": 1, "user": "Tomte", "posted_at": "2024-04-11 15:59:02", "comments": 0, "source_title": "Minesweeper: Advanced Tactics", "source_text": "Minesweeper: Advanced Tactics\n\n# Minesweeper: Advanced Tactics\n\n## A Nasty Minesweeper Position\n\nIn this position, I know about a bunch of mines on all the remaining fronts,\nbut I can't quite determine where they are. There are a few mines that might\nbe in one of two positions (red or blue), a cluster of mines that might be in\none of two arrangements (green), and a more complex situation in the top left\nwhich I haven't marked explicitly, involving the '5' and the '6'.\n\n## Minesweeper: Logic or Probability\n\nMinesweeper can be played two ways: as a game of logic or as a game of\nprobability.\n\nTechnically, probability subsumes logic. If you can logically prove a mine\nmust be in a location, its probability must be 100%; if you can prove one\ncannot be, its probability must be 0%. So probability is all you need, in some\nsense. Nonetheless, you use logical deduction to detect those 100% situations;\nsometimes, especially at easier difficulty levels, that's all you need to\ncomplete a Minesweeper game; no appeal to probabilities is necessary.\n\nBut there are definitely situations where all the logic in the world won't\nsave you. The 'T' situation which appears in the bottom center of the game\nboard above is a simple example of this--slightly complicated by the extra\nnearby mines. (The simplest scenario replaces the '2' with a '1' and the '5'\nwith a '3', so that it is symmetric.)\n\nThere is no way of getting any further information about the likely location\nof the one mine that remains in these two spaces. It's a 50-50 chance--a toss\nof a coin. When you find something like this, you're probably better off\ntaking a guess right away, rather than saving it for later--so if you guess\nwrong, you won't have wasted a lot of extra time solving the rest of the\nboard. (I'm a completist, so I save it for last, and don't blame myself for\nguessing wrong. And, mind you, it's a bad game design that puts the win or\nloss of the game on the toss of a coin.)\n\n## An Endgame Tactic\n\nOne very easy endgame tactic you can use is counting the number of remaining\nmines. Suppose I had resolved everything but the bottom right section of the\nboard. Here are the only two configurations of mines that match the data:\n\nIf you reach this position and the counter says there are only two mines left,\nyou're done; it must be position B.\n\nIf the counter says there are three left, it's not necessarily position A,\nthough. It could be position B with the remaining mine in one of the lower-\nright 3x3 cluster of squares.\n\nIn fact, the odds are in favor of it being B.\n\n## Local Probabilities\n\nIf you only examine the probabilities \"locally\", you can see that each of the\nsquares in the marked mutually exclusive groups have a 50-50 chance of being a\nmine. By locally, I mean that if you have a '1' next to two unknown squares,\neach has a 50% chance of being a mine.\n\nThe bottom center situation is exactly like this: each of squares adjacent to\nthe unknown pair has exactly one mine unaccounted for, so each adjacent piece\nof data suggests a 50% chance. The very top left is similar:\n\nThe bottom right situation is somewhat like this as well; each of the numbers\non the \"front\" has one mine unaccounted for and two squares where it might be.\n\nIf a square had one unaccounted-for mine next to it, but three unexplored\nsquares, each square would have a probability of 33%; four unexplored squares\nwould give each a 25% chance of having a mine. If it had two unaccounted-for\nmines and three unexplored squares, each would have a probability of 66%.\n\nHere's the \"local probability\" situation for the full board:\n\nAs you can see, several squares in the top left area have more than one\nprobability; the unexplored square adjacent to the '2' & '6' and the one\nadjacent to the '3' and the '5'. (The one by the '5' and the '6' still has 66%\ndue to both, so there's no apparent incompatibility.)\n\n## Resolving Local Probability Conflicts\n\nYou should be wondering at this point what it means to have conflicting local\nprobabilities. One intuition is that the bigger probability should win. For\nexample, the square between the 6 and the 2 must really be 66%. That would\nmean the leftmost square that's assigned a 50% is actually only 33%, though.\nOr you might think you combine the priorities somehow; perhaps the chance\nshould be 5/6, or the average.\n\nBut none of these are really correct. The data the probabilities are derived\nfrom aren't independent of one another, so no direct mathematics on the\nprobabilities is valid. The reason a local guess of 50% is correct in the\nbottom center is because it really is independent of anything else. If you\nrandomly constructed boards which matched all the data collected so far,\nexactly half of them would have the mine in each of the two possible\nlocations. (Probabilty sometimes confuses people, who have trouble knowing\nwhat rules of probability apply in what situation. This approach is\nessentially a guaranteed valid way, because it underlies the definition of\nprobability as predictive statistics: measure across all possible arrangements\nthat might have led to the current situation, assuming each was equally\nprobable.)\n\nThus, the correct measurement for the top left situation involves looking\nthrough all possible arrangements of mines that meet the currently collected\ndata, and measuring which percentage of them has a mine in the correct\nposition.\n\nThis would be rather time consuming if we did it directly. Fortunately, there\nare better methods.\n\n## Counting Arrangements\n\nThe abstract way of computing probabilities is to run through all possible\narrangements of mines, discard the ones that don't match the data we've\ncollected, and count up the statistics for each possible location.\n\nA more practical approach is to only consider the ones that wouldn't get\ndiscarded at all. To do that, you have to apply logic and generate all of the\npossible situations that could match the current data. I already showed the\ntwo scenarios for the bottom right; here are the possibilities for the top\nleft:\n\n(As before, the double-height oval indicates that a mine could be in either\nposition with equal probability. I might have listed each of these two cases\nseparately, so there'd be 10 arrangements, but it won't turn out to be useful.\nAs to the organization: the two rows (numbered '1' and '2') are distinguished\nby the position of the mine in the fourth row. The three columns are\ncharacterized by the position of the mines in the second row.)\n\nNow, you might be tempted to simply say \"aha, there are five cases, so we can\ncount up the number of cases for each possible mine location\". For example,\nthe mine in the fourth row (by the lower-left '1') is to the left in the two\ncases in row 1, and to the right in the three cases in row 2. So you could\nattempt to argue that it has a 60% chance of being to the right, adjacent to\nthe '6'. (This is a position that has conflicting local probabilities of 50%\nand 66%.)\n\nHowever, this misses an important subtlety--the number of mines in different\nin some of the cases; there are 6 mines in A1, 4 mines in B2, and 5 in the\nother cases.\n\n## Counting Unencountered Mines\n\nLet's return to the simpler bottom right scenario to explore this subtlety in\ndetail.\n\nSuppose that I've completed all of the rest of the board, and I know there are\nexactly three mines remaining.\n\nOne temptation might be to assume that configuration A, with exactly three\nmines, is more likely. This is incorrect.\n\nAnother temptation would be to consider how many total mines there were, and\nhow many board squares, and to say \"what are the odds that the bottom 3x3\nregion would be empty\". This is incorrect. The exact reason why this is\nincorrect is complex to explain, and could perhaps be likened to the\nLet's-Make-a-Deal \"paradox\". Suffice it to say, however, that the actual odds\nfor this situation are independent of the total number of mines and the total\nboard size.\n\nThe real answer is this: how many possible arrangements of three mines are\nthere that fit the knowledge I have of the board? The picture shows two:\nconfiguration A and configuration B. But B only has two mines. The third mine\ncould be in any of the bottom 3-by-3 region of squares for which I haven't\ncollected any data. There are thus nine variant B configurations; I just\nhaven't gone to the effort of drawing them out.\n\nThus, there are ten possible arrangements. Each of these ten arrangements is\nequally likely to occur. (As mentioned before, this is the crucial notion to\nunderstanding probability. The odds of the computer having generated any of\nthese cases the first place was small, but it was equally small, because the\ncomputer [as far as we know] was giving every arrangement an equal chance. You\nare equally likely to toss ten heads in a row as you are to throw the pattern\ntwo heads, one tails, one heads, three tails, one heads, one tails, one heads.\nYou're more likely to throw a total of five heads and five tails than ten\nheads, but not any particular pattern of heads and tails. In Minesweeper,\nwe're concerned with arrangements of mines, which are like patterns of coin\ntosses.)\n\nSince each of the ten arrangements (nine for B, one for A) is equally likely\nto occur, configuration B is 90% likely in this particular scenario!\n\nIf there were four mines left at this point, then configuration A would have\nnine variants. Configuration B would have one variant for each arrangement of\ntwo mines in the bottom left corner; this is C(9,2), which is 9!/((9-2)! *\n2!), or 9*8/2, which is 36. In this case, configuration B is only 75% likely.\n\nWith five mines, configuration A has 36 variants, and configuration B has\n9*8*7/6 = 84 variants; so the odds for B are just over 66%.\n\nWith six mines, B is about 60% likely. With seven mines, B is only 50% likely.\nWith eight mines, B is lesslikely than A; at this point, there are so many\nextra mines to go into the remaining locations that there are fewer\nconfigurations. Consider the worst case, where there are 11 mines remaining.\n(This is extremely unlikely to occur, but if it did occur, these probabilities\nwould apply.) With configuration B, all the unencountered square must have a\nmine; with configuration A, all but one does--and thus there are 9 variants\nfor A, and only one for B.\n\n## A Final Solution\n\nIn the actual board under discussion, there are 9 mines remaining. One of\nthose goes to the bottom center, which has a totally independent choice that\nwe can ignore. Therefore, we consider the full board except for that case;\nthere are only eight mines unaccounted for. (I'll continue to explicitly count\nthe oval in the top left since it's in the picture for the top left, just to\nbe unambiguous.)\n\nAny combination of a top-left configuration and a bottom-right configuration\ncould occur, except one of them (A1 + A) which would require nine mines.\nTherefore, we have to enumerate each of these possible configurations, and\ncount up the remaining mines and the unencountered squares.\n\nActually, the number of unencountered squares is independent: there are nine\nin the bottom right and three in the top left, so there are 12 total.\n\nTop Left| Bottom Right| Number of Mines| Mines Left| Unencountered Variants  \n---|---|---|---|---  \nA1| B| 8| 0| 1  \nB1| A| 8| 0| 1  \nB1| B| 7| 1| 12  \nA2| A| 8| 0| 1  \nA2| B| 7| 1| 12  \nB2| A| 7| 1| 12  \nB2| B| 6| 2| 66  \nC2| A| 8| 0| 1  \nC2| B| 7| 1| 12  \n  \nThus, there are a total of 118 possible combinations. From this you can count\nthe number of combinations for each of the top left and bottom right\nconfigurations independently:\n\nConfiguration| Variants| Percentage  \n---|---|---  \nA1| 1| 1  \nB1| 13| 11  \nA2| 13| 11  \nB2| 78| 66  \nC2| 13| 11  \nA| 15| 13  \nB| 103| 87  \n  \nNext, I went through each square on the board and computed its probability, by\nadding up the number of variants in which it appeared, dividing by 118.\n(Actually, by just adding the percentages above.) Also, on average each\nunencountered square had a mine in 15 of the 118 variants (after all, the odds\nthat at least one unencountered square has a mine is very high). [This can be\ncomputed by multiplying the number of mines left by the unencountered\nvariants, which tells you the average number of mines on unencountered\nsquares.]\n\n(Note that this doesn't show all of the information available. For example, we\nknow that the probability of the the two dark green '87' squares are linked--\nif one is true, the other must be. Similarly, the three pale blue '13's that\nare mines for configuration A are also linked. The remaining pale blue '13's\nare not linked--rather, if any one were to be a mine, the odds of any of the\nremaining ones being mines decreases.)\n\n## Playing the Game\n\nOdds are you're not going to want to sit down and work out all that math when\nyou're playing a minesweeper game.\n\nNeither did I.\n\nI did enumerate the possible configurations in the top-left and bottom-right.\nI noticed that one configuration (B2-B) used one fewer mines than all the\nothers. I applied the \"fewer mines means more unencountered variants\" rule of\nthumb (which applies roughly until the number of unencountered-squares is less\nthan double the number of unaccounted-for mines), which means that\nconfigurations that use fewer mines are much more likely.\n\nSince there were a lot of configurations in the top-left, determining the odds\nfor any one square is somewhat complicated. Therefore, I just figured that\nconfiguration B in the bottom-right was a lot more likely, and guessed one of\nthe appropriate squares. (I hoped that this would allow me to complete the\nbottom-right, and then armed with more knowledge about the number of mines\nremaining I could complete the top left, and I'd only be left with the center\nbottom coin toss. Of course, ideally I'd pick a square that will maximize the\nlikelihood I'd get useful information, but any of these guesses would have\nallowed me \"entry\" into the bottom right corner for further data collection.)\nThe odds favored configuration B, so I picked a square that had a mine for\nconfiguration A.\n\nEight times out of nine, I would have been right.\n\n[ HOME ] [ ]\n\n", "frontpage": false}
