{"aid": "40001008", "title": "A timeline of the xz attack, dating back to 2021", "url": "https://hachyderm.io/@rsc/112199506755478946", "domain": "hachyderm.io", "votes": 1, "user": "ColinWright", "posted_at": "2024-04-11 11:29:14", "comments": 0, "source_title": "Russ Cox (@rsc@hachyderm.io)", "source_text": "Russ Cox: \"I put together a timeline of t...\" - Hachyderm.io\n\nCreate accountLogin\n\nRuss Cox @rsc@hachyderm.io\n\nI put together a timeline of the xz attack, dating back to 2021. Corrections\nor additions welcome here on Mastodon. https://research.swtch.com/xz-timeline\n\nresearch.swtch.comresearch!rsc: Timeline of the xz open source attack\n\nApr 02, 2024, 03:30 \u00b7 \u00b7 Web \u00b7 111 \u00b7 115\n\nApr 2\n\nMark Wolfe @wolfeidau@awscommunity.social\n\n@rsc Thanks for capturing this in one place, fascinating situation and\nalthough tough for those involved, well worth learning from.\n\nApr 2\n\nsam @thesamesam@treehouse.systems\n\n@rsc Thanks for doing that! It's well-done.\n\nOne small comment: wrt the GCC bug, I have no idea if it was intentional, but\nthe real bug was 114115, while the commit message mentions 11411. So,\ninterestingly, it's not a completely random bug number he gave, but a\ntruncated version of the one that I go on to link to in the Gentoo bug.\n\nApr 2 *\n\nThomas Faughnan @tjf@social.ndlug.org\n\n@rsc Thanks for documenting this.\n\nThe link for \"breaks landlock detection\" is broken. Looks like it should point\nto\nhttps://git.tukaani.org/?p=xz.git;a=commitdiff;h=a100f9111c8cc7f5b5f0e4a5e8af3de7161c7975\nDitto for the commit hash in the \"two ifunc\" link later on.\n\nApr 2\n\nRuss Cox @rsc\n\n@tjf Thanks, fixed both. And also changed all the a=commit links to\na=commitdiff. Much nicer!\n\nApr 2\n\nthakis @thakis@serenityos.social\n\n@rsc \"breaks landlock detection\" link is incorrectly relative. The whole entry\nshould be one further up so the date fits the timeline.\n\nApr 2\n\nthakis @thakis@serenityos.social\n\n@rsc oh sorry, the first issue was already reported by someone else\npreviously.\n\nApr 2\n\nRuss Cox @rsc\n\n@thakis No worries. Thanks, fixed!\n\nApr 2\n\nDan Kortschak @kortschak@infosec.exchange\n\n@rsc Minor name typo: s/Jugar Kumar/Jigar Kumar/.\n\nApr 2\n\nNemo_bis @nemobis@mamot.fr\n\n@rsc Thanks. Going even further back, I seem to recall some heated discussions\nabout multi-threaded compression support in #XZ. A quick search only turns up\nhttps://sourceforge.net/p/lzmautils/discussion/708858/thread/d37155d1/ which\nis rather civil. Perhaps they were elsewhere in SourceForge (directed at Igor\nPavlov?).\n\nAlso of note, 2008 discussions in the #7zip forum showing how it all came to\nbe (the last comment mentions #lzip but was missed: funny!).\nhttps://sourceforge.net/p/sevenzip/discussion/45797/thread/f2cf3a4e/#316e/4360\nhttps://sourceforge.net/p/sevenzip/discussion/45797/thread/01397a99/#e22c/005a\nhttps://sourceforge.net/p/lzmautils/discussion/708858/thread/d4a4effd/#7b4a\n\nsourceforge.net XZ Utils / Discussion / Open Discussion: Multi-threaded\ncompression, when?\n\nApr 2\n\nNemo_bis @nemobis@mamot.fr\n\n@rsc Jia Tan in 2022: \"The patch you linked modifies the config.sub file,\nwhich is generally against best practices. The config.sub file is maintained\nand released by autotools. Using CMake may solve your issue\".\nhttps://sourceforge.net/p/lzmautils/discussion/708858/thread/978bf94bbc/#e65f\n\nsourceforge.net XZ Utils / Discussion / Open Discussion: ./configure support\nfor Apple Silicon M1 chips (darwin-arm64)\n\nApr 2\n\nJed Davis @xlerb@sfba.social\n\n@rsc Minor detail, but the hostile change to the m4 file was more than just\none line. I found what I'm pretty sure is the original (in the gnulib project)\nand diffed, and all of the changes appear to be part of the exploit:\nhttps://gist.github.com/jld/158dba98bcf2c2b96bb8d1a5ebc49b92\n\nIt's interesting, because the sketchiness is kind of obvious once I know what\nto look for and what it's doing... but when it's passed off as being copied\nfrom upstream, plus being infamously illegible autotools stuff, well, here we\nare.\n\nGistxz-m4-hax.diffGitHub Gist: instantly share code, notes, and snippets.\n\nApr 2\n\nRuss Cox @rsc\n\n@xlerb Indeed. I just posted the full diff as part of research.swtch.com/xz-\nscript. Thanks for noticing the mistake in xz-timeline.\n\nApr 2\n\nJoel P. @joelp@mastodon.sdf.org\n\n@rsc @xlerb I don't think OpenSSH has a direct dependency, wasn't it through\nsystemd notifications?\n\nApr 2\n\nAmit Serper @0xamit@infosec.exchange\n\n@rsc Very good work, thank you for that!\n\nApr 2\n\nGon\u00e7alo Ribeiro @goncalor@infosec.exchange\n\n@rsc read it all. Thanks a lot for this structured summary!\n\nApr 3\n\nJeroen Ruigrok van der Werven @asmodai@mastodon.social\n\n@rsc Minor editing nit: Shouldn't Hans Jansen's name be quoted on its first\nuse as well, like Jigar Kumar and Dennis Ens?\n\nApr 4\n\nynezz @ynezz@chaos.social\n\n@rsc 2024-04-03 Ubuntu 24.04 LTS (Noble Numbat) has been pushed to April 11,\n2024 (previously April 4, 2024) https://discourse.ubuntu.com/t/noble-numbat-\nbeta-delayed-xz-liblzma-security-update/43827\n\nUbuntu Community Hub \u00b7 Apr 3Noble Numbat Beta delayed (xz/liblzma security\nupdate)Canonical never stops working to keep Ubuntu at the forefront of\nsafety, security, and reliability. As a result of CVE-2024-3094, Canonical\nmade the decision to remove and rebuild all binary packages that had been\nbuilt for Noble Numbat after the CVE-2024-3094 code was committed to xz-utils\n(February 26th), on newly provisioned build environments. This provides us\nwith confidence that no binary in our builds could have been affected by this\nemerging threat. As a result of this, the Beta release ...\n\nApr 4\n\nDavid Arch @david@social.tchncs.de\n\n@rsc Seeing the Haiku OS update in your list (from Fri 29 Mar 21:39:00 UTC\n2024) remembered me to have seen an Arch package update of xz on Thu 28 Mar\n21:08:23 UTC 2024\n\nhttps://gitlab.archlinux.org/archlinux/packaging/packages/xz/-/commit/881385757abdc39d3cfea1c3e34ec09f637424ad\n\nGitLabupgpkg: 5.6.1-2 (88138575) \u00b7 Commits \u00b7 Arch Linux / Packaging / Packages\n/ xz \u00b7 GitLabimprove reproducibility by running autogen.sh ourselves\n\n6d\n\nRuss Cox @rsc\n\n@david Thanks, added.\n\nExploreLive feeds\n\nLogin to follow profiles or hashtags, favorite, share and reply to posts. You\ncan also interact from your account on a different server.\n\nCreate accountLogin\n\nAbout\n\nDrag & drop to upload\n\n", "frontpage": false}
