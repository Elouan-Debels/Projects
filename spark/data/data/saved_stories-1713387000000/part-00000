{"aid": "40065436", "title": "mistral-common: a set of tools to help you work with Mistral models", "url": "https://github.com/mistralai/mistral-common", "domain": "github.com/mistralai", "votes": 2, "user": "tosh", "posted_at": "2024-04-17 14:48:02", "comments": 0, "source_title": "GitHub - mistralai/mistral-common", "source_text": "GitHub - mistralai/mistral-common\n\nSkip to content\n\nSign in\n\n# Search code, repositories, users, issues, pull requests...\n\nSearch syntax tips\n\nSign in\n\nSign up\n\nYou signed in with another tab or window. Reload to refresh your session. You\nsigned out in another tab or window. Reload to refresh your session. You\nswitched accounts on another tab or window. Reload to refresh your session.\nDismiss alert\n\nmistralai / mistral-common Public\n\n  * Notifications\n  * Fork 3\n  * Star 38\n\n### License\n\nApache-2.0 license\n\n38 stars 3 forks Branches Tags Activity\n\nStar\n\nNotifications\n\n# mistralai/mistral-common\n\nThis commit does not belong to any branch on this repository, and may belong\nto a fork outside of the repository.\n\n1 Branch\n\n0 Tags\n\n## Folders and files\n\nName| Name| Last commit message| Last commit date  \n---|---|---|---  \n  \n## Latest commit\n\nBam4dMerge pull request #2 from eltociear/patch-1Apr 17, 2024fcf0316 \u00b7 Apr 17,\n2024Apr 17, 2024\n\n## History\n\n10 Commits  \n  \n### examples\n\n|\n\n### examples\n\n| \ud83e\udd21| Apr 17, 2024  \n  \n### src/mistral_common\n\n|\n\n### src/mistral_common\n\n| Update sentencepiece.py| Apr 17, 2024  \n  \n### tests\n\n|\n\n### tests\n\n| \ud83e\udd50 \ud83c\udf89| Apr 17, 2024  \n  \n### .gitignore\n\n|\n\n### .gitignore\n\n| Initial commit| Apr 15, 2024  \n  \n### LICENCE\n\n|\n\n### LICENCE\n\n| \ud83d\udd11\ud83d\udd11\ud83d\udd11| Apr 17, 2024  \n  \n### README.md\n\n|\n\n### README.md\n\n| lowercase for tokenizer map| Apr 17, 2024  \n  \n### poetry.lock\n\n|\n\n### poetry.lock\n\n| \ud83e\udd50 \ud83c\udf89| Apr 17, 2024  \n  \n### pyproject.toml\n\n|\n\n### pyproject.toml\n\n| \ud83d\udd11\ud83d\udd11\ud83d\udd11| Apr 17, 2024  \n  \n## Repository files navigation\n\n# Mistral Common\n\n## What is it?\n\nmistral-common is a set of tools to help you work with Mistral models.\n\nOur first release contains tokenization. Our tokenizers go beyond the usual\ntext <-> tokens, adding parsing of tools and structured conversation. We also\nrelease the validation and normalization code that is used in our API.\n\nWe are releasing three versions of our tokenizer powering different sets of\nmodels.\n\n  * v1: open-mistral-7b, open-mixtral-8x7b, mistral-embed\n  * v2: mistral-small-latest, mistral-large-latest\n  * v3: open-mixtral-8x22b\n\n## Installation\n\n### pip\n\nYou can install mistral-common via pip:\n\n    \n    \n    pip install mistral-common\n\n### From Source\n\nAlternatively, you can install from source directly. This repo uses poetry as\na dependency and virtual environment manager.\n\nYou can install poetry with\n\n    \n    \n    pip install poetry\n\npoetry will set up a virtual environment and install dependencies with the\nfollowing command:\n\n    \n    \n    poetry install\n\n## Examples\n\n    \n    \n    # Import needed packages: from mistral_common.protocol.instruct.messages import UserMessage from mistral_common.protocol.instruct.request import ChatCompletionRequest from mistral_common.protocol.instruct.tool_calls import Function, Tool from mistral_common.tokens.tokenizers.mistral import MistralTokenizer # Load Mistral tokenizer model_name = \"open-mixtral-8x22b\" tokenizer = MistralTokenizer.from_model(model_name) # Tokenize a list of messages tokenized = tokenizer.encode_chat_completion( ChatCompletionRequest( tools=[ Tool( function=Function( name=\"get_current_weather\", description=\"Get the current weather\", parameters={ \"type\": \"object\", \"properties\": { \"location\": { \"type\": \"string\", \"description\": \"The city and state, e.g. San Francisco, CA\", }, \"format\": { \"type\": \"string\", \"enum\": [\"celsius\", \"fahrenheit\"], \"description\": \"The temperature unit to use. Infer this from the users location.\", }, }, \"required\": [\"location\", \"format\"], }, ) ) ], messages=[ UserMessage(content=\"What's the weather like today in Paris\"), ], model=model_name, ) ) tokens, text = tokenized.tokens, tokenized.text # Count the number of tokens print(len(tokens))\n\n## About\n\nNo description, website, or topics provided.\n\n### Resources\n\nReadme\n\n### License\n\nApache-2.0 license\n\nActivity\n\nCustom properties\n\n### Stars\n\n38 stars\n\n### Watchers\n\n13 watching\n\n### Forks\n\n3 forks\n\nReport repository\n\n## Releases\n\nNo releases published\n\n## Packages 0\n\nNo packages published\n\n## Contributors 2\n\n  * Bam4d Chris Bamford\n  * eltociear Ikko Eltociear Ashimine\n\n## Languages\n\n  * Python 100.0%\n\n## Footer\n\n\u00a9 2024 GitHub, Inc.\n\nYou can\u2019t perform that action at this time.\n\n", "frontpage": false}
