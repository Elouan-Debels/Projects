{"aid": "40043110", "title": "Torvalds Injects Tabs to Thwart Kconfig Parsers Not Correctly Handling Them", "url": "https://www.phoronix.com/news/Linux-Kconfig-Tabs", "domain": "phoronix.com", "votes": 8, "user": "hiyer", "posted_at": "2024-04-15 17:06:43", "comments": 0, "source_title": "Linus Torvalds Injects Tabs To Thwart Kconfig Parsers Not Correctly Handling Them - Phoronix", "source_text": "Linus Torvalds Injects Tabs To Thwart Kconfig Parsers Not Correctly Handling\nThem - Phoronix\n\n  * Articles & Reviews\n  * News Archive\n  * Forums\n  * Premium Ad-Free\n  * Contact\n  * Popular Categories\n  * Close\n\n  * Articles & Reviews\n  * News Archive\n  * Forums\n  * Premium\n  * Contact\n  * Categories\n\nComputers Display Drivers Graphics Cards Linux Gaming Memory Motherboards\nProcessors Software Storage Operating Systems Peripherals\n\nShow Your Support: Did you know that you can get Phoronix Premium for under $4\nper month? Try it today to view our site ad-free, multi-page articles on a\nsingle page, and more while the proceeds allow us to write more Linux hardware\nreviews. At the very least, please disable your ad-blocker.\n\n# Linus Torvalds Injects Tabs To Thwart Kconfig Parsers Not Correctly Handling\nThem\n\nWritten by Michael Larabel in Linux Kernel on 15 April 2024 at 11:23 AM EDT. 5\nComments\n\nWithin yesterday's Linux 6.9-rc4 release is an interesting little nugget by\nLinus Torvalds to battle Kconfig parsers that can't correctly handle tabs but\nrather just assume spaces for whitespace for this kernel configuration format.\n\nDue to a patch having been queued last week to replace a tab with a space\ncharacter in the kernel tracing Kconfig file, Linus Torvalds decided to take\nmatters into his own hand for Kconfig parsers that can't deal with tabs...\nTorvalds authored a patch to intentionally add some tabs of his own into\nKconfig for throwing off any out-of-tree/third-party parsers that can't\ncorrectly handle them.\n\nTorvalds added these intentional hidden tabs to the common Kconfig file for\nhandling page sizes for the kernel. Thus sure to cause dramatic and noticeable\nbreakage for any parsers not having tabs correctly. Torvalds wrote in the\npatch:\n\n> \"Commit d96c36004e31 (\"tracing: Fix FTRACE_RECORD_RECURSION_SIZE Kconfig\n> entry\") removed a hidden tab because it apparently showed breakage in some\n> third-party kernel config parsing tool.\n>\n> It wasn't clear what tool it was, but let's make sure it gets fixed. Because\n> if you can't parse tabs as whitespace, you should not be parsing the kernel\n> Kconfig files.\n>\n> In fact, let's make such breakage more obvious than some esoteric ftrace\n> record size option. If you can't parse tabs, you can't have page sizes.\n>\n> Yes, tab-vs-space confusion is sadly a traditional Unix thing, and 'make' is\n> famous for being broken in this regard. But no, that does not mean that it's\n> ok.\n>\n> I'd add more random tabs to our Kconfig files, but I don't want to make\n> things uglier than necessary. But it *might* be necessary if it turns out we\n> see more of this kind of silly tooling.\"\n\nLinus Torvalds can still get things done effectively for the Linux kernel\nwithout his once colorful language he was known for on the kernel mailing\nlist.\n\n5 Comments\n\nRelated News\n\nLinux 6.9-rc4 Brings More Bcachefs Fixes, Native BHI Mitigation\n\nLinux 6.10 To Account For NUMA Node When Allocating Per-CPU Cpumasks\n\nLinux 6.10 SLUB Optimization To Reduce Memory Consumption In Extreme Scenarios\n\nLinux 6.8.5 & Other Stable Kernel Updates Due To Native BHI Vulnerability\n\nLinux 6.10 AES-XTS For Disk/File Encryption As Much As ~155% Faster For AMD\nZen 4 CPUs\n\nLinux 6.9-rc3 Released With Many Bcachefs Patches\n\nAbout The Author\n\nMichael Larabel is the principal author of Phoronix.com and founded the site\nin 2004 with a focus on enriching the Linux hardware experience. Michael has\nwritten more than 20,000 articles covering the state of Linux hardware\nsupport, Linux performance, graphics drivers, and other topics. Michael is\nalso the lead developer of the Phoronix Test Suite, Phoromatic, and\nOpenBenchmarking.org automated benchmarking software. He can be followed via\nTwitter, LinkedIn, or contacted via MichaelLarabel.com.\n\nPopular News This Week\n\nUbuntu Maker Canonical Announces New Collaboration With Qualcomm\n\nx86-64-v5? Questions Arise Over The Future Of x86-64 Micro-Architecture\nFeature Levels\n\nLinux 6.10 To Merge NTSYNC Driver For Emulating Windows NT Synchronization\nPrimitives\n\nArch Linux Increasing Its vm.max_map_count To Help Steam Play Games & Other\nSoftware\n\nKDE's KWin Merges Wayland Explicit Sync Support\n\nFedora 41 Looks To \"-O3\" Optimizations For Its Python Build\n\nGentoo Linux Now An SPI Project\n\nOpen-Source Radeon Driver Enables Support For Vulkan Video H.264/H.265 Encode\n\nLatest Linux News\n\nAlmaLinux 9.4 Beta Restores Support For Some Hardware Deprecated By RHEL\n\nLinus Torvalds Injects Tabs To Thwart Kconfig Parsers Not Correctly Handling\nThem\n\nFedora 41 Aims For More Reproducible Package Builds Thanks To A Rust Program\n\nFirefox 125 Adds AV1 Support In Encrypted Media Extensions, Other New Features\n\nServo Driving Modularity To Support Different JavaScript Engines\n\nRNNoise 0.2 Released With AVX2 Optimizations For Neural Network Noise\nSuppression\n\nFEX-Emu 2404 Optimization Can Take Memcpy From 2-3 GB/s To 88 GB/s\n\nLinux 6.9-rc4 Brings More Bcachefs Fixes, Native BHI Mitigation\n\nLinux 6.10 To Merge NTSYNC Driver For Emulating Windows NT Synchronization\nPrimitives\n\nAMD Prepares More Next-Gen GPU Driver Support For Linux 6.10\n\nProposed \"LibGodot\" Lets You Embed Godot Game Engine Into Other Apps\n\nShow Your Support, Go Premium\n\nPhoronix Premium allows ad-free access to the site, multi-page articles on a\nsingle page, and other features while supporting this site's continued\noperations.\n\nLatest Featured Articles\n\nUbuntu 24.04 Brings Some Performance Gains For AMD Threadripper 7980X /\nSystem76 Thelio Major\n\nIntel Announces Gaudi 3 AI Accelerator, Intel Xeon 6 Brand\n\nAMD Radeon Linux Gaming Performance At Parity Between KDE Plasma 6.0 X11 vs.\nWayland\n\nIntel Xeon Max Sees Some Performance Gains For OpenVINO & ONNX With Linux 6.9\n\nCrucial T705 PCIe 5.0 NVMe SSD On Linux\n\nSupport Phoronix\n\nThe mission at Phoronix since 2004 has centered around enriching the Linux\nhardware experience. In addition to supporting our site through\nadvertisements, you can help by subscribing to Phoronix Premium. You can also\ncontribute to Phoronix through a PayPal tip or tip via Stripe.\n\nPhoronix Media\n\n  * Contact\n  * Michael Larabel\n  * OpenBenchmarking.org\n\nPhoronix Premium\n\n  * Support Phoronix\n  * While Having Ad-Free Browsing,\n  * Single-Page Article Viewing\n\nShare\n\n  * Facebook\n  * Twitter\n\n  * Legal Disclaimer, Privacy Policy, Cookies | | Contact\n\n  * Copyright \u00a9 2004 - 2024 by Phoronix Media.\n\n  * All trademarks used are properties of their respective owners. All rights reserved.\n\n", "frontpage": true}
