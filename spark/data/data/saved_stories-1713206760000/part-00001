{"aid": "40039847", "title": "ocdiff \u2013 Fast and simple side-by-side diff library for Python", "url": "https://github.com/leontrolski/ocdiff", "domain": "github.com/leontrolski", "votes": 1, "user": "leontrolski", "posted_at": "2024-04-15 12:43:51", "comments": 0, "source_title": "GitHub - leontrolski/ocdiff: side-by-side Python diffs", "source_text": "GitHub - leontrolski/ocdiff: side-by-side Python diffs\n\nSkip to content\n\nSign in\n\n# Search code, repositories, users, issues, pull requests...\n\nSearch syntax tips\n\nSign in\n\nSign up\n\nYou signed in with another tab or window. Reload to refresh your session. You\nsigned out in another tab or window. Reload to refresh your session. You\nswitched accounts on another tab or window. Reload to refresh your session.\nDismiss alert\n\nleontrolski / ocdiff Public\n\n  * Notifications\n  * Fork 0\n  * Star 3\n\nside-by-side Python diffs\n\n### License\n\nMIT license\n\n3 stars 0 forks Branches Tags Activity\n\nStar\n\nNotifications\n\n# leontrolski/ocdiff\n\nThis commit does not belong to any branch on this repository, and may belong\nto a fork outside of the repository.\n\n1 Branch\n\n25 Tags\n\n## Folders and files\n\nName| Name| Last commit message| Last commit date  \n---|---|---|---  \n  \n## Latest commit\n\nleontrolskiOnly 3.11, 3.12 seem to workb88e497 \u00b7\n\n## History\n\n43 Commits  \n  \n### .github/workflows\n\n|\n\n### .github/workflows\n\n| Only 3.11, 3.12 seem to work  \n  \n### python/ocdiff\n\n|\n\n### python/ocdiff\n\n| Add html to the diff, update readme  \n  \n### src\n\n|\n\n### src\n\n| Show hunk gaps  \n  \n### tests\n\n|\n\n### tests\n\n| Comment out test for now - doesn't work in CI  \n  \n### .gitignore\n\n|\n\n### .gitignore\n\n| init  \n  \n### Cargo.lock\n\n|\n\n### Cargo.lock\n\n| Add console_diff  \n  \n### Cargo.toml\n\n|\n\n### Cargo.toml\n\n| Add console_diff  \n  \n### LICENSE\n\n|\n\n### LICENSE\n\n| init  \n  \n### README.md\n\n|\n\n### README.md\n\n| Show hunk gaps  \n  \n### pyproject.toml\n\n|\n\n### pyproject.toml\n\n| Only 3.11, 3.12 seem to work  \n  \n### screenshot-1.png\n\n|\n\n### screenshot-1.png\n\n| Update README  \n  \n## Repository files navigation\n\n# ocdiff\n\nFast and simple side-by-side diff library for Python - wraps similar, inspired\nby icdiff.\n\n# Usage\n\n    \n    \n    pip install ocdiff\n    \n    \n    ocdiff.html_diff( a: str, b: str, context_lines: int | None = None, max_total_width: int | None = None, ) -> str\n    \n    \n    ocdiff.console_diff( a: str, b: str, context_lines: int | None = None, max_total_width: int | None = None, ) -> str\n\n# Example Output\n\n# CLI usage\n\n    \n    \n    ocdiff a.txt b.txt\n\n# Usage in pytest with rich\n\nIn your conftest.py, add:\n\n    \n    \n    import ocdiff import ocdiff.helpers import rich.console def rich_repr(o: Any) -> str: string_io = io.StringIO() rich.console.Console( file=string_io, width=ocdiff.helpers.terminal_width() // 2 - 10, tab_size=4, no_color=True, highlight=False, log_time=False, log_path=False, ).print(o) string_io.seek(0) return string_io.getvalue() def pytest_assertrepr_compare(config: Any, op: str, left: Any, right: Any) -> list[str] | None: very_verbose = config.option.verbose >= 2 if not very_verbose: return None if op != \"==\": return None try: if abs(left + right) < 100: return None except TypeError: pass try: if isinstance(left, str) and isinstance(right, str): pretty_left = left pretty_right = right else: pretty_left = rich_repr(left) pretty_right = rich_repr(right) return ocdiff.console_diff( pretty_left, pretty_right, context_lines=10, max_total_width=ocdiff.helpers.terminal_width() - len(\"E \"), ).splitlines() except Exception: return None\n\n# Install/Develop\n\n    \n    \n    uv pip install -e '.[dev]' maturin develop\n\n# Make release\n\n  * Add pypi token and user = __token__ to settings (do this once).\n  * Upversion pyproject.toml.\n\n    \n    \n    git tag -a v0.0.x head -m v0.0.x git push origin v0.0.x\n\n## About\n\nside-by-side Python diffs\n\n### Resources\n\nReadme\n\n### License\n\nMIT license\n\nActivity\n\n### Stars\n\n3 stars\n\n### Watchers\n\n1 watching\n\n### Forks\n\n0 forks\n\nReport repository\n\n## Releases\n\n25 tags\n\n## Packages 0\n\nNo packages published\n\n## Languages\n\n  * Python 44.0%\n  * Rust 32.6%\n  * HTML 23.4%\n\n## Footer\n\n\u00a9 2024 GitHub, Inc.\n\nYou can\u2019t perform that action at this time.\n\n", "frontpage": false}
