{"aid": "40005422", "title": "Monitoring My Life with Grafana, Prometheus, and InfluxDB", "url": "https://www.kshivendu.dev/blog/quantified-self", "domain": "kshivendu.dev", "votes": 2, "user": "arguflow", "posted_at": "2024-04-11 18:45:16", "comments": 0, "source_title": "Monitoring my Life with Grafana, Prometheus, and InfluxDB", "source_text": "Monitoring my Life with Grafana, Prometheus, and InfluxDB\n\nKShivendu\n\nBlogTagsAbout\n\nPublished on\n\n    Wednesday, August 30, 2023\n\n# Monitoring my Life with Grafana, Prometheus, and InfluxDB\n\nAuthors\n\n    \n\n  * Name\n    Kumar Shivendu\nTwitter\n\n    @KShivendu_\n\n## Story\n\nI'm a data nerd and love to collect data and optimize stuff based on that. I\nhave been using tools like ActivityWatch, Wakatime, and Smartwatches to\nmonitor myself. But so far all that data was scattered across different places\nand it was hard to get a holistic view. And this made it really hard to\nunderstand patterns and optimize.\n\nLast weekend, I learnt about Grafana and Prometheus out of curiousity. I used\nto love Metabase + PostgreSQL combination but Grafana + Prometheus + InfluxDB\ncombination is a different beast altogether! It's very powerful and\nextensible.\n\n## The Setup\n\n### ActivityWatch dashboard\n\nSo the data in the first dashboard that I've shared above comes from\nActivityWatch\n\nActivityWatch stores all the data in a SQLite DB and I tried using it when I\nstarted. Grafana has a plugin for SQLite and I could mount the file in grafana\ncontainer and make it work. But I was curious about time series databases like\nInfluxDB and was hoping that it provide better util functions to make querying\nmy (time-series) data easier. So I wrote an InfluxDB adapter for ActivityWatch\nthat I've shared on Github KShivendu/aw-core-influxdb. And then I created the\ncharts using InfluxDB queries as shown in the above dashboard.\n\n### Health dashboard\n\nHealth data has always been scattered and hard to access but thanks to the new\nAndroid Health Connect APIs and its react native library, I was able to pull\nall the health data given by Google Fit and Samsung Health. I wrote a small\nFlask server to sync the data. The flask server extracts the metric values\n(sleep duration, steps, heart rate, etc) and pushes all the data to my\nInfluxDB instance. Then I created custom dashboards in Grafana using InfluxDB\nqueries.\n\n### Wakatime dashboard\n\nI configured my Wakatime API keys in Wakatime Prometheus Exporter and\nconfigured my prometheus instance to scrape the data from it every day. Then I\ndirectly downloaded this Grafana dashboard that shows me all the stats.\n\n## Future:\n\nI'll be adding more details and probably try to share the code if people are\ninterested.\n\n  * Adding time spent on Android mobile apps\n  * Adding location data from Android\n\nHere's a link to my original tweet\n\nNote that like most of my blogs, I'll keep updating this one as my knowledge\ngrows.\n\nDiscuss on Twitter \u2022 View on GitHub\n\n## Tags\n\nside-projectmonitoringquantified-self\n\n## Previous Article\n\nMy Linux setup\n\n\u2190 Back to the blog\n\nmailgithublinkedintwitter\n\nKumar Shivendu\n\n\u2022\n\n\u00a9 2024\n\n\u2022\n\nKShivendu\n\nTailwind Nextjs Theme\n\n", "frontpage": false}
