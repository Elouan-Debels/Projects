{"aid": "40005094", "title": "Security of an encrypted partition in a flash drive", "url": "https://superuser.com/questions/1835609/security-of-an-encrypted-partition-in-a-flash-drive", "domain": "superuser.com", "votes": 2, "user": "sipofwater", "posted_at": "2024-04-11 18:13:04", "comments": 0, "source_title": "Security of an encrypted partition in a flash drive", "source_text": "partitioning - Security of an encrypted partition in a flash drive - Super\nUser\n\n#### Stack Exchange Network\n\nStack Exchange network consists of 183 Q&A communities including Stack\nOverflow, the largest, most trusted online community for developers to learn,\nshare their knowledge, and build their careers.\n\nVisit Stack Exchange\n\nTeams\n\nQ&A for work\n\nConnect and share knowledge within a single location that is structured and\neasy to search.\n\nLearn more about Teams\n\n# Security of an encrypted partition in a flash drive\n\nAsk Question\n\nAsked 24 days ago\n\nModified 24 days ago\n\nViewed 92 times\n\nThis question shows research effort; it is useful and clear\n\n-1\n\nSave this question.\n\nShow activity on this post.\n\nI have a flash drive that I carry with me everywhere in a keyring for\nconvenient access to personal files on other people's computers. In the past,\nthese flash drives tend to get lost as they break off from the key ring. As\nthe flash drive contains personal files, it makes me feel uneasy to think that\nsomeone might have access to them.\n\nTo counter this, I decided to get a 256GB flash drive (cheap these days), and\npartition it into 2 roughly equally-sized partition. The first partition is\nregularly formatted with exFAT, while the other one is formatted with exFAT\nand then encrypted with Bitlocker. The idea here is that I would put my\npersonal files only in the encrypted partition. The unencrypted partition can\nbe used for non-personal files that I wouldn't care to be exposed. My choice\nof using Bitlocker instead of Veracrypt comes down to compatibility: it just\nworks on Windows and most Linux distros without needing to install additional\nsoftware (not on Mac and Android unfortunately, but it's the best I can do,\n(unrelated but if you have a better idea let me know!)).\n\nMeanwhile, I have recently been reading about the shred command and its\nlimitations on flash devices. Specifically there's a study paper showing that\nusing the Gutmann method (which is employed in the shred command) still allows\npeople to recover 71.9% of a file's contents, which sounds like it is not\nparticularly effective. This made me doubt the effectiveness of my encrypted\npartition.. Does the same reason that shred isn't effective in USB flash\ndrives also apply to encrypted partitions on consumer flash drives? Is my\nencrypted partition strategy fundamentally flawed due to the nature of how\nflash drives work, or for any other reason?\n\nNote that my threat level is really to make it difficult for the average\nperson or techie to read my personal info in the event I lose the flash drive.\nI am not trying to protect myself against state actors, corporate espionage,\nor targeted attacks. This question is mainly to understand the limitations of\nmy method.\n\n  * partitioning\n  * security\n  * encryption\n  * usb-flash-drive\n  * bitlocker\n\nShare\n\nCC BY-SA 4.0\n\nImprove this question\n\nFollow this question to receive notifications\n\nedited Mar 18 at 15:42\n\nGiacomo1968\n\n55.5k2121 gold badges167167 silver badges214214 bronze badges\n\nasked Mar 18 at 15:16\n\n9a3eedi9a3eedi\n\n39677 silver badges1919 bronze badges\n\n12\n\n  * 1\n\nGood encryption makes shreds mostly meaningless. The contents of an encrypted\nfolder are scrambled bits, which is also the \"contents\" of a shredded file. So\nlong as the drive or partition are encrypted before you place any files on it,\nthe only data written to that area will be the encrypted data. This should be\nplenty sufficient for keeping your files secure from all but the most\ndetermined attackers.\n\n\u2013 music2myear\n\nMar 18 at 15:27\n\n  * 1\n\nI don't see what shredding has to do with encryption. Also, where did read\nthis: \"Specifically there's a study paper showing that using the Gutmann\nmethod (which is employed in the shred command) still allows people to recover\n71.9% of a file's contents\"?\n\n\u2013 Joep van Steen\n\nMar 18 at 15:29\n\n  * 1\n\nThe encryption is secure. An alternative to BitLocker is Zip file encryption\nthat can be read on almost any machine, Mac, Linux, Windows or Android --\nhandy when traveling.\n\n\u2013 DrMoishe Pippik\n\nMar 18 at 15:37\n\n  * 1\n\nWhy are you worried about data recovery if you\u2019re using BitLocker? Recovery\nwith encrypted volumes is impossible. All volumes should be encrypted.\n\n\u2013 Ramhound\n\nMar 18 at 15:38\n\n  * 1\n\n@DrMoishePippik I wouldn't recommend zip archives for this, for several\nreasons. First, the format is not designed for modification, so changing the\ncontents may or may not be possible. Second, depending on the extractor in\nuse, you may not be able to get at the contained files without first\nextracting them to decrypted format (and then having to worry about securely\ndeleting the extracted copy). Third, a lot of zip implementations still use\nthe old zip 2.0 encryption (aka \"traditional\" or \"legacy\" encryption), which\nis is breakable, although not trivial.\n\n\u2013 Gordon Davisson\n\nMar 18 at 22:04\n\n| Show 7 more comments\n\n## 1 Answer 1\n\nReset to default\n\nThis answer is useful\n\n4\n\nSave this answer.\n\nShow activity on this post.\n\n> Specifically there's a study paper showing that using the Gutmann method\n> (which is employed in the shred command) still allows people to recover\n> 71.9% of a file's contents\n\nThe Gutmann method was created for magnetic storage (HDDs), not for flash\nstorage. (More specifically, it was created for MFM-type HDDs that were\nalready obsolete by the time the method was published.)\n\n> Does the same reason that shred isn't effective in USB flash drives also\n> apply to encrypted partitions on consumer flash drives?\n\nNo, not at all.\n\nThe whole issue with 'shred' is about deleting data that has already been\nwritten, so it would only be relevant if you were a) activating BitLocker on a\npartition that already had data in it, or b) using manual file-level\nencryption, e.g. first saving plain files, then using a program like 'gpg' to\nencrypt them individually, then attempting to shred the original plain files.\n\nDisk-level encryption does not work that way. It works by intercepting all\nsector write commands so that they get encrypted in-flight, and everything you\ndo within the BitLocker volume is already encrypted by the time it reaches the\nstorage. In other words, there is nothing that would need to be deleted. (That\nis, assuming you enabled BitLocker while the partition was still empty.)\n\nSo while it remains true that e.g. overwritten sectors physically remain in\nthe flash storage for some time, that doesn't matter because those are all\nencrypted sectors \u2013 recovering them is useless unless the attacker already has\nthe BitLocker decryption key anyway.\n\n> Note that my threat level is really to make it difficult for the average\n> person or techie to read my personal info in the event I lose the flash\n> drive\n\nThen you can kind-of ignore the 'shred' issues anyway, even if encryption\nwasn't in place.\n\nThe sector remapping that makes it difficult to \"shred\" data on flash storage\nis not done by the OS; it's done by the firmware of the storage device. Once a\nlogical sector has been overwritten by the OS, only its new contents are\nvisible to the OS \u2013 even though the old contents are still lingering in flash\nmemory, they are not accessible to regular software in any way; it would take\na recovery firm to reach them.\n\nSo when they say that data on flash drives remains recoverable after\n\"shredding\", they don't mean it's easily recoverable using Recuva or whatever\nother PC-based undeletion tool \u2013 they mean it's technically recoverable using\nexpensive equipment that only a targeted attack would warrant.\n\nYes, if I lost a USB stick that used to have e.g. an SSH key that had been\n\"shredded\", I would still consider that key compromised, but it's not\ncritical.\n\nShare\n\nCC BY-SA 4.0\n\nImprove this answer\n\nFollow this answer to receive notifications\n\nedited Mar 18 at 17:28\n\nanswered Mar 18 at 15:30\n\nu1686_grawityu1686_grawity\n\n453k6666 gold badges949949 silver badges1k1k bronze badges\n\n3\n\n  * Great insight, thank you. Did not consider that it would require special physical hardware to read the shredded sectors, way beyond my threat level. What I was also wondering though... couldn't the recovered encrypted writes be somehow used to make the encryption breaking easier?\n\n\u2013 9a3eedi\n\nMar 19 at 5:32\n\n  * 1\n\n@9a3eedi: Well, not necessarily \"millions of $\" expensive \u2013 I suppose it might\nbe a bit easier with a single-flash-chip USB stick than with SSDs \u2013 but it's\nstill well above what any normal person would have, or have time and expertise\nto do. If there's a targeted attack of some kind, I can see it being a risk,\nbut otherwise not really. (And as you continue using the flash drive that's\ngot deleted data, eventually said physical sectors will get re-used to store\nnew data anyway, so \"lost a USB stick that had a file shredded 6 months ago\"\nis less of an issue than \"shredded yesterday\".)\n\n\u2013 u1686_grawity\n\nMar 19 at 5:40\n\n  * @9a3eedi: As for encryption breaking, I don't think that's an issue with AES-XTS that BitLocker uses, but you'd have to ask Crypto.SE for a more competent answer.\n\n\u2013 u1686_grawity\n\nMar 19 at 5:44\n\nAdd a comment |\n\n## You must log in to answer this question.\n\n##\n\nNot the answer you're looking for? Browse other questions tagged\n\n  * partitioning\n  * security\n  * encryption\n  * usb-flash-drive\n  * bitlocker\n\n.\n\n  * The Overflow Blog\n  * Want to be a great software engineer? Don\u2019t be a jerk.\n\n  * Climbing the GenAI decision tree\n\nsponsored post\n\n  * Featured on Meta\n  * New Focus Styles & Updated Styling for Button Groups\n\n  * Upcoming initiatives on Stack Overflow and across the Stack Exchange network\n\n  * Google Cloud will be Sponsoring Super User SE\n\n#### Linked\n\n0\n\nHidden disk usage in Windows 10\n\n#### Related\n\n0\n\nAccessing LUKS-encrypted exFAT partition with FreeOTFE\n\n5\n\nWhy is my bitlocker data drive unlocked for a few seconds after boot?\n\n2\n\nWhat flash drive geometry depends on? Can I change it on my preference?\n\n0\n\nConverting a non-lettered partition from FAT32 to NTFS\n\n0\n\nHide a partition on a flash drive\n\n0\n\nShrink Volume of Bitlocker Encrypted Drive on Windows 11\n\n#### Hot Network Questions\n\n  * How do University-graduated Spanish 'Ingenieros' demonstrate their certification is actually a Bachelor's Degree?\n\n  * Do intutionists think the law of the excluded middle is universally, metaphysically false?\n\n  * Add flexible space (\\vfill?) above frame title in Metropolis Beamer\n\n  * Colorbar to illustrate the change of a specific parameter\n\n  * What is a safe way to transport an e-bike battery on planes?\n\n  * Find highest number of swaps within a set of possible duty swaps with networkx and PuLP\n\n  * Can you launch a pellet created with Dust of Dryness to smash it at range?\n\n  * Connecting C-wire to 1989 Forced Air Electric Heater\n\n  * Is this Star Trek: Picard Romulan character meant to be a reference to Lord of the Rings?\n\n  * Bender Decomposition Implementation - Should I keep the old feasibility cut in master problem?\n\n  * Do faster responding low-pass filters exist compared to a traditional RC filter?\n\n  * Tried to use cig lighter in my 12 volt plug now charger won\u2019t work\n\n  * Is it possible to find sum of x^x from a to b without using summation but rather a less computationally heavy method?\n\n  * Short story. Humans and machines have co-operated in peace and prosperity on Earth for hundreds of years. Aliens attack and begin slaughtering humans\n\n  * Why is remote desktop very slow when host monitor is off unless HDMI cable is used?\n\n  * How do I properly exit a program and return to the CCP in CP/M?\n\n  * Am I in my rights to ask a colleague to not take notes on everything I say outside a meeting?\n\n  * Water heater leak increasing when main water line is turned on , but the valve is shut off\n\n  * Insurance for expeditions\n\n  * In the Wallace and Gromit movies we see 'Electronics for Dogs.' Do we ever see any other 'books for Dogs' in-universe?\n\n  * Align cursor rotation to normal\n\n  * Opening line that messes up my repertoire\n\n  * Humourous television series. An arrogant man seems to be giving a blow by blow count of a dangerous battle. He was describing a game of Risk\n\n  * alphanumerics in duration in sheets - how to convert to a number of minutes\n\nQuestion feed\n\n# Subscribe to RSS\n\n  * Blog\n  * Facebook\n  * Twitter\n  * LinkedIn\n  * Instagram\n\nSite design / logo \u00a9 2024 Stack Exchange Inc; user contributions licensed\nunder CC BY-SA. rev 2024.4.11.7577\n\n## We Care About Your Privacy\n\nWe and our 4 partners store and/or access information on a device, such as\nunique IDs in cookies to process personal data. You may accept or manage your\nchoices by clicking below, including your right to object where legitimate\ninterest is used, or at any time in the privacy policy page. These choices\nwill be signaled to our partners and will not affect browsing data.\n\nCookie Policy.\n\n### We and our partners perform the following based on your settings:\n\nUse precise geolocation data. Actively scan device characteristics for\nidentification. Understand audiences through statistics or combinations of\ndata from different sources. Store and/or access information on a device.\nDevelop and improve services. Create profiles to personalise content. Measure\ncontent performance. Use limited data to select content. Measure advertising\nperformance. Use limited data to select advertising. Create profiles for\npersonalised advertising. Use profiles to select personalised advertising. Use\nprofiles to select personalised content.\n\n", "frontpage": false}
