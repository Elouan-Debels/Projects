{"aid": "40038259", "title": "A Commentary on the Unix Operating System", "url": "https://en.wikipedia.org/wiki/A_Commentary_on_the_UNIX_Operating_System", "domain": "wikipedia.org", "votes": 1, "user": "defrost", "posted_at": "2024-04-15 09:03:28", "comments": 0, "source_title": "A Commentary on the UNIX Operating System", "source_text": "A Commentary on the UNIX Operating System - Wikipedia\n\nJump to content\n\nSearch\n\n# A Commentary on the UNIX Operating System\n\n  * Deutsch\n  * \u0641\u0627\u0631\u0633\u06cc\n  * Norsk bokm\u00e5l\n  * Polski\n  * \u0420\u0443\u0441\u0441\u043a\u0438\u0439\n\nEdit links\n\nFrom Wikipedia, the free encyclopedia\n\nBook\n\nThis article needs additional citations for verification. Please help improve\nthis article by adding citations to reliable sources. Unsourced material may\nbe challenged and removed. Find sources: \"A Commentary on the UNIX Operating\nSystem\" \u2013 news \u00b7 newspapers \u00b7 books \u00b7 scholar \u00b7 JSTOR (April 2023) (Learn how\nand when to remove this template message)  \n---  \nA commentary on the Unix operating systemBrian Kernighan holding a copy of\nLions's Commentary  \n---  \nAuthor| John Lions  \nCountry|\n\n  * Australia (original)\n  * United States (1996 reprint)\n\n  \nLanguage| English; also available in Chinese and Japanese  \nSubject| Unix operating system  \nGenre| Computer Science  \nPublisher| University of New South Wales  \nPublication date| 1976  \nOCLC| 36099640  \nDewey Decimal| 005.43  \nLC Class| QA 76.76 .O63 L56  \n  \nA Commentary on the Sixth Edition UNIX Operating System by John Lions (later\nreissued as Lions' Commentary on UNIX 6th Edition)^[1]^[2] is a highly\ninfluential^[3] 1976 publication containing analytical commentary on the\nsource code of the 6th Edition Unix computer operating system \"resident\nnucleus\"^[4] (i.e., kernel) software, plus copy formatted and indexed by\nLions, of said source code obtained from the authors at AT&T Bell Labs. It is\nalso commonly referred to as the Lions Book.^[citation needed]\n\nItself an exemplar of the early success of UNIX as portable code for a\npublishing platform, Lions's work was typeset using UNIX tools, on systems\nrunning code ported at the University, similar to that which it documented,\nsee page vi.^[5]\n\nIt was commonly held to be the most copied book in computer science.^[citation\nneeded] Despite its age, Lions's book is still considered an excellent\ncommentary on simple, high quality code.\n\nLions's work was most recently reprinted in 1996 by Peer-To-Peer\nCommunications,^[6] and has been circulated, recreated or reconstructed\nvariously in a number of media by other parties, e.g. see webpage of Greg\nLehey.^[5]\n\nLions Commentary on UNIX 6th Edition with Source Code 1996 reissue^[6]\n\n## Synopsis[edit]\n\nUNIX Operating System Source Code Level Six is the kernel source code, lightly\nedited by Lions to better separate the functionality \u2014 system initialization\nand process management, interrupts and system calls, basic I/O, file systems\nand pipes and character devices. All procedures and symbols are listed\nalphabetically with a cross reference.\n\nThe code as presented will run on a PDP-11/40 with RK05 disk drive, LP11 line\nprinter interface, PCL11 paper tape writer and KL11 terminal interface, or a\nsuitable PDP-11 emulator, such as SIMH.\n\nA Commentary on the UNIX Operating System starts with notes on UNIX and other\nuseful documentation (the UNIX manual pages, DEC hardware manuals and so on),\na section on the architecture of the PDP-11 and a chapter on how to read C\nprograms. The source commentary follows, divided into the same sections as the\ncode. The book ends with suggested exercises for the student.\n\nAs Lions explains, this commentary supplements the comments in the source. It\nis possible to understand the code without the extra commentary, and the\nreader is advised to do so and only read the notes as needed. The commentary\nalso remarks on how the code might be improved.\n\n## History[edit]\n\nJohn Lions with his students in 1980A Japanese reprinting of John Lions A\ncommentary on the Unix operating system and accompanying formatted source code\ndisplaying a license for use by certain licensees, and a directive to those\nlicensees to restrict use by other parties, Unix operating system source code\nlevel six\n\nThe source code and commentary were printed in book form in 1977, after first\nbeing assembled in May 1976, as a set of lecture notes^[4] for Lions's\ncomputer science courses (6.602B and 6.657G, mentioned in the introduction of\nthe book) at the University of New South Wales.\n\nUNSW had actually obtained UNIX source code in 1975, in response to Ken\nRobinson's 1974 query to Dennis Ritchie at Bell.^[7] Bell Labs was a\nsubsidiary of AT&T, under restrictions owing to its monopolistic nature as a\nnational telecommunications infrastructure provider, and not permitted to\nconduct business in any other field,^[citation needed] and so was not at\nliberty to profit from sale of software,^[citation needed] however UNIX was\nbeing provided under license by another AT&T subsidiary, Western Electric at\nleast by 1977.^[clarification needed]\n\nThe UNIX User's group, USENIX's newsletter, UNIX News, of March 1977,^[4]\nannounced the availability of the book to UNIX licensees. Note that the\nnewsletter's own strongly worded circulation restriction notice, could only\never have applied within the framework of existing licenses to the licensees\nwith agreements held with the mentioned organisations, not to non-licensees,\nas a matter of civil contract\u2014the newsletter displays no evidence of\ngovernmental authority of the type which might allow general suppression of\ncirculation, such as national security Top Secret classification.)\n\nDifficulty in keeping pace with the book's popularity, meant that by 1978 it\nwas available only from AT&T Bell Labs.^[8]\n\nFor many years, the Lions book was the only UNIX kernel documentation\navailable outside Bell Labs.^[citation needed] Although the license of 6th\nEdition^[citation needed] allowed classroom use of the source code, the\nlicense of 7th Edition^[citation needed] specifically excluded such use, so\nsubsequent to this, the book, based on the more liberally licensed version,\nspread widely through copy machine reproductions, made arguably under various\nexcuses, including (but not limited to) generous educational licensing terms\nafforded the publishing institution by the source code owner^[citation\nneeded], as well as various copyright exemptions protecting discussion of\nmathematical work, though in the shadow of increasing political pressure to\nerode such rights, as technological means to \u2018self-copy\u2019 -- and even self-\npublish\u2014works became cheaper, more efficient, and more prolific.^[citation\nneeded] UNIX itself, was one of these, having been a successful innovation\nfinanced at Bell in order to facilitate publishing of technical manuals in-\nhouse.^[citation needed]\n\nWhen AT&T announced UNIX Version 7 at USENIX in June 1979, the\nacademic/research license no longer automatically permitted classroom use.\n\nHowever, thousands of computer science students around the world spread\nphotocopies. As they were not being taught it in class, they would sometimes\nmeet after hours to discuss the book. Many pioneers of UNIX and open source\nhad a treasured multiple-generation photocopy.^[9]\n\nOther follow-on effects of the license change included Andrew S. Tanenbaum\ncreating Minix. As Tanenbaum wrote in Operating Systems (1987):\n\n> When AT&T released Version 7, it began to realize that UNIX was a valuable\n> commercial product, so it issued Version 7 with a license that prohibited\n> the source code from being studied in courses, in order to avoid endangering\n> its status as a trade secret. Many universities complied by simply dropping\n> the study of UNIX, and teaching only theory.\n\nVarious UNIX people, particularly Peter H. Salus, Dennis Ritchie and Berny\nGoodheart, lobbied Unix's various owners (AT&T, Novell, the Santa Cruz\nOperation) for many years to allow the book to be published officially. In\n1996, the Santa Cruz Operation finally authorised the release of the twenty-\nyear-old 6th Edition source code (along with the source code of other versions\nof \"Ancient UNIX\"), and the full code plus the 1977 version of the commentary\nwas published by Peer-To-Peer Communications (ISBN 978-1-57398-013-5).^[6] The\nreissue includes commentary from Michael Tilson (SCO), Peter Salus, Dennis\nRitchie, Ken Thompson, Peter Collinson, Greg Rose, Mike O'Dell, Berny\nGoodheart and Peter Reintjes.\n\n## \"You are not expected to understand this\"[edit]\n\nThe infamous program comment \"You are not expected to understand this\" occurs\non line 2238 of the source code (Lions' Commentary, p. 22) at the end of a\ncomment explaining the process exchange mechanism. It refers to line 325 of\nthe file slp.c.^[10] The source code reads:^[11]^[12]\n\n    \n    \n    /* * If the new process paused because it was * swapped out, set the stack level to the last call * to savu(u_ssav). This means that the return * which is executed immediately after the call to aretu * actually returns from the last routine which did * the savu. * * You are not expected to understand this. */ if(rp->p_flag&SSWAP) { rp->p_flag =& ~SSWAP; aretu(u.u_ssav); }\n\nA major reason why this piece of code was hard to understand was that it\ndepended on a quirk of the way the C-compiler for the PDP-11 saved registers\nin procedure calls. This code failed when ported to other machines and had to\nbe redesigned in Version 7 UNIX.^[13] Dennis Ritchie later explained the\nmeaning of this remark:^[11]\n\n> \"You are not expected to understand this\" was intended as a remark in the\n> spirit of \"This won't be on the exam\", rather than as an impudent challenge.\n\n## Further reading[edit]\n\n  * Andrew S. Tanenbaum, Operating Systems: Design and Implementation, (Prentice Hall, ISBN 0-13-637331-3, June 1987)\n  * Code Critic (Rachel Chalmers, Salon, 30 November 1999)\n  * The Daemon, The GNU and the Penguin - Ch. 6: 1979 (Peter H. Salus)\n  * Brian W. Kernighan and Dennis Ritchie, The C Programming Language, ISBN 0-13-110362-8\n\n## See also[edit]\n\n  * xv6, a modern reimplementation of Sixth Edition UNIX in ANSI C for multiprocessor x86 and RISC-V systems.\n\n## References[edit]\n\n  1. ^ Lions, John (1976\u20131977). A commentary on the Sixth Edition UNIX Operating System. University of New South Wales: Department of Computer Science. OCLC 494684468.\n  2. ^ Unix operating system source code level six. University of New South Wales: Department of Computer Science. 1976\u20131977. OCLC 494684460.\n  3. ^ Jonathan Corbet Brian Kernighan on the origins of Unix LWN.net. January 17, 2022.\n  4. ^ Jump up to: ^a ^b ^c \"NEW BOOK\". UNIX News. USENIX. Mar 1977.\n  5. ^ Jump up to: ^a ^b Lehey, Greg (2015-09-14). \"Commentary on the Sixth Edition UNIX Operating System\". Greg Lehey, Warren Toomey.\n  6. ^ Jump up to: ^a ^b ^c Lions, John (1996). Lions' Commentary on UNIX 6th Edition with Source Code. Peer-to-Peer Communications. ISBN 978-1-57398-013-5.\n  7. ^ Faculty of Engineering, UNSW, (Dean) (2020-09-18). \"Remembering Ken Robinson\". University of New South Wales: Engineering. Archived from the original on 2020-10-20.\n  8. ^ The Daemon, The GNU and the Penguin - Chapters 2 & 3 (Peter H. Salus)\n  9. ^ \"Lions Book\". Jargon File. December 29, 2003. Retrieved 2020-01-11.\n  10. ^ Ken Thompson. \"unix-history-repo/usr/sys/ken/slp.c\". GitHub. Retrieved 2018-10-12.\n  11. ^ Jump up to: ^a ^b Dennis Ritchie (2002-06-22). \"Odd Comments and Strange Doings in Unix\". Retrieved 2021-05-14.\n  12. ^ https://swtch.com/unix/\n  13. ^ Johnson, S. C.; Ritchie, D. M. (1978). \"UNIX Time-Sharing System: Portability of C Programs and the UNIX System\" (PDF). Bell System Technical Journal. 57 (6): 2021\u20132048. doi:10.1002/j.1538-7305.1978.tb02141.x. S2CID 17510065. Archived (PDF) from the original on 2022-10-09.\n\n## External links[edit]\n\n  * https://pdos.csail.mit.edu/6.828/2006/v6.html\n  * https://dl.acm.org/doi/10.5555/238143\n\nRetrieved from\n\"https://en.wikipedia.org/w/index.php?title=A_Commentary_on_the_UNIX_Operating_System&oldid=1208457598\"\n\nCategories:\n\n  * 1976 non-fiction books\n  * Unix books\n  * Computer programming books\n\nHidden categories:\n\n  * Articles with short description\n  * Short description matches Wikidata\n  * Articles needing additional references from April 2023\n  * All articles needing additional references\n  * All articles with unsourced statements\n  * Articles with unsourced statements from May 2021\n  * Wikipedia articles needing clarification from May 2021\n\n  * This page was last edited on 17 February 2024, at 16:07 (UTC).\n  * Text is available under the Creative Commons Attribution-ShareAlike License 4.0; additional terms may apply. By using this site, you agree to the Terms of Use and Privacy Policy. Wikipedia\u00ae is a registered trademark of the Wikimedia Foundation, Inc., a non-profit organization.\n\n  * Privacy policy\n  * About Wikipedia\n  * Disclaimers\n  * Contact Wikipedia\n  * Code of Conduct\n  * Developers\n  * Statistics\n  * Cookie statement\n  * Mobile view\n  * Edit preview settings\n\n", "frontpage": false}
