{"aid": "39979119", "title": "Tibber API", "url": "https://developer.tibber.com/docs/overview", "domain": "tibber.com", "votes": 2, "user": "doener", "posted_at": "2024-04-09 13:16:26", "comments": 0, "source_title": "Tibber Developer", "source_text": "Tibber Developer\n\nImportant\n\nBreaking change in websocket subscriptions December 2022\n\nRead more\n\n# Tibber API\n\nWe are currently in the process of releasing the first version of our public\nAPI. Hopefully, this will make it easy for home automation enthusiasts as well\nthird-parties to integrate with our platform.\n\nThe platform is exposed through GraphQL, which is a technology that was\nconceived and developed by Facebook.\n\n### What is GraphQL?\n\n> GraphQL is a query language for your API, and a server-side runtime for\n> executing queries by using a type system you define for your data. GraphQL\n> isn\u2019t tied to any specific database or storage engine and is instead backed\n> by your existing code and data.\n\nTibber chose GraphQL for our API because of the flexibility it gives our\nintegrators and ourselves. The ability to define precisely the data you want\nmakes it far easier to consume than conventional REST-based APIs. It\u2019s also\nvery nice that the GraphQL server-side implementation plays very nicely with\nour Microservice architecture :-)\n\n## The API Explorer\n\nThe easiest way to familiarize yourself with the Tibber platform is to play\naround with our API/GraphQL explorer. Tibber users can sign in to their\naccount and create an access token which then can be used when trying out the\nexplorer (simply hit the \u201cLoad personal token\u201d button)\n\nIf you are developing a 3rd party app and do not have a Tibber customer\naccount yourself, you can try out the API through our demo account (hit \u201cLoad\ndemo token\u201d button).\n\nNB! The data exposed through the test account is auto-generated and might be\nnonsensical in some cases\n\nThe explorer is awesome (shout out to these men and women) and almost\neliminates the need for further documentation.\n\n## Documentation\n\nGraphQL and accompanying tools makes it pretty easy to get a sense of what\ndata is available and how to retrieve them. Some concepts and patterns might\nnot be that intuitive and we try to explain these in the guides and the API\nreference.\n\n## Breaking change in websocket subscriptions December 2022\n\nThis API initially supported GraphQL websocket subscriptions using graphql-ws\nsub-protocol. However, that library is archived and no longer maintained.\nThus, on March 31, 2022, support for graphql-transport-ws sub-protocol was\nadded.\n\nSupport for the old protocol will be removed during December 2022. Also, at\nthe same time, the URL for connecting to websocket server changes. Previously,\nthe connection could be established at\nwss://api.tibber.com/v1-beta/gql/subscriptions. After the change the URL must\nbe queried via GraphQL (see example below) and client must support graphql-\ntransport-ws sub-protocol.\n\n    \n    \n    { viewer { websocketSubscriptionUrl } }\n\nCurrently, the URL returned is wss://websocket-\napi.tibber.com/v1-beta/gql/subscriptions.\n\nFor more information see Calling API and Subscription query.\n\n## Rate limiting\n\nThere is a rate limit of 100 requests in 5 minutes per IP address intended to\nprotect the API. Note that prices are calculated once per day in the afternoon\n(for Norway and Sweden they are first preliminary and later finalized\npotentially with minor changes after currency rates are confirmed). You can\nuse priceInfo.today and priceInfo.tomorrow for fetching them up front instead\nof only using priceInfo.current for the current hour.\n\nFor more information see Calling API\n\n## Feedback\n\nPlease send us an email (or contact us on chat) if you have questions or\nremarks regarding the API, documentation or anything else.\n\n", "frontpage": false}
